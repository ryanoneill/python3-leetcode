from apply_operations_to_maximize_score import Solution

def test_ex1():
    nums = [8,3,9,3,8]
    k = 2
    solution = Solution()
    result = solution.maximumScore(nums, k)
    assert result == 81

def test_ex2():
    nums = [19,12,14,6,10,18]
    k = 3
    solution = Solution()
    result = solution.maximumScore(nums, k)
    assert result == 4788

def test_ex3():
    nums = [79452,1,1,1,72930,1,91749,69199,1,18258,46976,46141,59419,1,1,5399,22974,43419,57540,1,88555,53842,25630,60617,90816,88087,1,11748,56369,92820,54834,79170,27258,27527,90263,1,93592,96674,94953,14843,1,1,56279,68311,50141,55901,94210,60030,88920,69483,690,1,91326,97083,93072,74074,90090,44844,1,26220,1,19775,1,1,1,88069,55230,53083,1,7138,94153,79773,96978,50599,65063,77090,78540,1,90090,87070,78540,35566,36973,71610,1,46020,91951,60060,88703,94710,85470,63746,5919,66990,54637,54366,26357,53161,28210,22947,91770,1810,3416,9902,79170,58357,41643,73237,82410,57783,46410,93652,92991,6314,74841,64421,35126,38760,18810,1,1,40818,1,98670,77647,15540,59294,35383,1,58449,71087,75599,37170,35901,1,47848,22943,90090,62726,26618,30090,50563,97632,71610,2906,79170,59052,63782,66990,74349,1,1,1,88124,33405,1,15541,75557,43890,97604,57420,6090,24172,1,37923,92480,59107,53129,72930,91770,38418,81041,5199,1,53130,64125,75628,36784,1,37331,65000,6412,51414,46018,92004,10384,64666,33587,82110,1,1,44225,72087,1,55062,5147,75149,90090,78540,84341,31891,85614,1,51870,84793,91770,16189,10353,38130,95480,74490,33589,95526,10581,89678,99302,51060,53593,655,70147,83773,98773,4441,82110,46410,1,78870,89983,62790,96875,73920,1,1,81510,81510,48777,58254,12234,52455,90065,63396,4313,36263,66990,62790,71610,26292,98670,14322,33790,54689,94710,85470,43890,51352,1,93954,82824,1,83916,81337,5800,59851,3045,98670,7410,1,2741,60689,22699,72930,1,82110,81089,64040,83122,3919,71610,95238,1,82183,15270,97441,27120,73470,88872,55110,78540,98670,60060,49590,67064,51870,67830,7148,99330,78870,75180,53110,43143,70957,19386,67652,78540,12163,79181,42210,34926,82110,50913,1,25774,62591,90090,1,77141,1,23760,77676,5893,87780,39324,85470,51044,1,96443,31920,89826,25033,46410,1,80850,98221,88130,55852,99330,80553,92796,40717,64237,15731,53382,33083,83843,15376,69069,1,92307,72930,81130,1636,44187,99330,72930,18942,7685,58855,8222,39900,92820,6247,1,85470,34961,19716,281,1,947,87780,4994,1,41758,94722,98636,6235,1,83230,21390]
    k = 52938
    solution = Solution()
    result = solution.maximumScore(nums, k)
    assert result == 636635391

def test_ex4():
    nums = [10927,53850,84238,76830,1,63510,57970,16829,4297,1,34188,79170,66174,98247,1,45318,66612,51912,1,19227,51429,57646,87156,40027,87780,1,84368,1,31177,91821,87498,48490,1,71005,28312,74340,1,7079,43890,84165,30030,84947,1,78714,65919,51053,63250,80330,1,30030,86460,88529,34917,37711,92752,82890,1,1,94584,70172,6032,30030,79170,39270,62521,17419,1,74165,94068,39831,18870,7069,81084,97818,69575,1,1,45194,92862,11310,66822,93977,1,1,33670,1,37170,29963,7659,71537,62790,99330,63913,87973,33300,21985,72267,17842,1,14627,1,65646,87780,38127,58744,71610,99727,70224,86072,62790,82366,80934,1,27056,87780,34110,42540,43275,66970,1,26821,80520,98670,87780,79053,58209,67835,97440,29251,1,42420,1,30482,24087,54287,1,84630,94632,67830,94500,34782,1089,1,93799,37671,99137,79403,96516,55294,8586,1,88485,62790,29522,99330,84630,16119,94710,76890,79894,24220,85085,66010,1,30030,96159,42073,82680,1,37307,19979,80537,8373,25806,53157,5970,85470,54531,74715,38540,43890,14944,77140,38141,54877,90090,14878,26769,74615,50119,36890,72930,15069,89010,1,40565,77840,48255,77826,99330,93574,58380,66990,1,33594,22345,52210,66990,44710,43890,1,81997,13063,43180,41402,15834,12344,72114,62790,31994,48247,39032,99660,53130,39904,67221,12597,99330,37131,39460,79170,37680,1,69630,1789,88483,78260,31660,62510,43830,1,79170,33805,29172,50055,62506,38082,67830,77251,46410,1,53547,85214,31010,39409,70128,70616,1,68670,71339,24701,36724,17310,26334,20483,63009,5940,33396,61194,61962,30450,1,92862,95897,44030,8501,1,61734,48475,43928,68743,72695,1,3061,86127,72930,64410,84630,26739,26085,1,33616,36446,1,54193,3819,72148,28425,48174,66388,73101,85690,35465,1,84630,62738,75454,91360,47212,1,81120,58430,72930,32357,1,97188,64722,49980,58170,86940,8423,25945,46410,34686,1,63883,36441,81867,1,88530,67830,34847,12909,82672,94666,37700,88965,97001,1,40366,39270,20150,36007,5102,64610,99330,43626,90090,36036,85915,1,94990,86431,92820,51870,74137,65100,83160,37444,95401,26544,76678,63443,50857,60314,38250,41467,1,39050,97566,66570,7686,9660,27669,74168,1,3039,19590,11629,55875,91884,94489,27514,46410,48972,27017,92820,53130,1,70537,66990,16590,37757,60060,94710,86248,814,31062,703,1,91770,71346,85470,15330,55924,31307,74200,50835,54390,1,46410,30241,47120,4700,76840,97240,48906,82188,55317,7819,53130,1,5987,1,60209,78780,34627,38700,97373,47,80803,20323,43890,946,24090,73089,88035,79711,20027,24409,24151,16891,84168,1,39404,70705,36503,70464,1,37506,45219,48770,26761,51900,317,37394,1,53130,29323,1,93138,75889,1,1,40829,6612,1,26394,1,34333,91230,1,1,24589,90090,30391,1,53361,48335,1,1,82067,45990,27059,50310,35053,35155,45706,4590,99330,81510,82141,20748,41610,77142,97562,66990,26314,82110,82110,1,1,1,43488,46956,9043,46410,1,3547,99330,74003,87550,54033,18040,13082,58088,1,87837,68201,63131,99352,36939,98670,26705,71672,41990,79103,81510,1,70184,98670,58926,83013,1,60733,81510,70330,63490,48096,68310,9570,74490,91770,98670,79980,1,79823,64417,68124,11622,90090,81619,66990,1,67425,18505,77089,81158,1583,1,14255,83339,1,38356,1,69877,79212,1,1,78705,1,1,3659,90060,71647,1,89707,82110,17159,24407,79200,56400,53130,28204,1,91770,61880,80234,11519,62268,1,41800,54632,79170,81510,75790,20495,42120,94990,1,87843,53550,81510,61118,3094,1,44910,63756,20443,25151,93337,1,15834,54631,84870,82110,74714,43054,87780,40319,94395,49242,52677,62930,14293,87433,15442,1,53130,67830,10357,57540,99579,79170,1,56217,84630,66990,87551,95880,17609,33514,30030,36218,78451,24645,1,12239,89611,99216,77344,75679,1,59170,88218,49335,57914,91020,78890,83553,1393,62790,1,12913,23534,43810,45744,84630,39929,54275,48499,42315,7333,93610,81353,1,69650,83408,83089,73710,94024,40547,1,1,3420,60060,1,68628,61251,19157,92092,62338,1,69588,94710,72930,45601,1,32754,70770,69692,1,1,82881,89659,76378,32190,36707,40282,12274,16590,34963,75563,95971,40668,70035,41140,27511,39270,79170,66990,9171,85470,18169,23139,20002,1,99330,44457,61669,12540,99330,94710,44185,42642,20010,19626,93090,30581,82824,96558,3774,89676,27422,1,14723,35048,1,84630,1,15763,66990,23473,74518,80404,1,71610,54913,79073,94050,46807,4973,1,42210,99089,2349,99498,62790,1,76411,96135,29981,99760,1,97251,89005,28396,57487,66389,10903,91119,58740,1,72910,27285,45427,65838,24576,69930,99330,43890,24234,92820,99017,63688,98700,1,62934,1,1,1,85386,62790,93953,91770,81510,91571,60060,12515,44022,82530,62681,86822,46046,71610,1,58881,90395,2777,62790,53194,6967,1,29370,92641,88683,89814,12704,15329,27313,2478,43984,79170,80454,23767,72930,84661,23205,1,1,27060,21130,81510,26076,87516,69905,1,1,40193,1,49523,1,58626,16302,52117,79596,29667,20974,13613,38953,94009,62790,1,69428,10192,96162,1,94710,48620,39390,1,1,1,62730,21977,78040,64864,55887,14462,85723,31158,1,47670,97972,84203,91474,20935,3486,30030,11510,44426,81960,46410,84259,43890,47402,41692,31182,87780,63296,90090,39707,61722,11287,39560,90090,22971,69654,1,3430,1,81510,1,77742,25770,81558,59570,69869,90480,7980,858] 
    k = 355587
    solution = Solution()
    result = solution.maximumScore(nums, k)
    assert result == 691524563

def test_ex5():
    nums = [32506,4988,1,84630,1,99800,7236,1,1,1,87511,65260,71610,1,72072,1,96973,85470,80931,91455,98948,87978,1,77157,98670,96237,62790,8038,77792,70490,53571,1,55770,87491,70435,19630,29240,97298,76081,81107,89917,63030,60060,1,3527,45986,28711,13259,57319,56994,59118,1,1,84108,73882,23481,39394,90090,95264,46410,1,23543,77649,13093,6157,9869,60522,59617,72930,1,39937,53130,67830,18184,75922,80931,86680,47947,84318,63020,79170,62790,68068,63510,77109,66990,1,72930,38124,4253,29269,53010,37699,84840,88717,81510,60269,51651,50106,80795,7001,1,1,1,98670,55447,99371,79170,58630,91449,12727,71748,1,43890,42063,23934,69420,1,81510,65415,13566,75030,53908,30030,74970,1,44683,77242,66739,30030,75029,77070,69678,42295,63836,1,37734,48840,1,87633,78333,39670,61223,90654,82110,90090,59970,1,93697,1,85470,1,14251,86481,20939,64294,84391,58504,94710,54530,30087,63949,84953,61270,90090,95641,37674,61639,88643,94710,1,85200,23310,59996,4620,37918,82740,64680,5500,86527,49560,87660,84450,31080,76415,55629,39270,98670,24962,1,12629,1,1,83230,2877,29916,1,77798,68239,5305,1,60060,85470,94248,2699,91596,41743,1,56093,82164,6059,43285,70490,21735,90090,5964,55160,4676,26804,12418,81770,1,1,99457,10300,91541,1,76913,37436,2053,55746,58650,39492,65207,57389,82110,92835,36688,81686,7425,90090,50840,31513,17109,71610,1,89340,55484,65021,87780,17081,50739,97266,3374,65687,94360,81774,59373,50102,1,46607,8431,26459,57960,79170,4300,74609,1,58630,60974,1,11351,50895,31988,1,56467,2953,51646,11897,91332,30030,80940,94710,88141,85159,1,70350,1,30030,48659,1,92820,95634,76964,1,1,96816,90090,28119,86169,23293,1,62785,55614,51870,67830,5,79170,36126,35038,1,85470,67576,42841,1,26920,1,6737,7137,10730,4703,43890,2627,51043,63031,14302,94710,18834,6090,28129,33217,1,63735,1,1,39270,1,1,99330,1,32335,81971,1,92820,92820,28561,74849,98886,15288,6410,1,2333,67295,54619,91649,97410,67830,82849,1,3324,69300,27577,43890,1,82721,43989,85470,72930,61845,94990,98532,97777,48438,23310,38590,1,14512,51272,32339,69541,93947,1,53652,1,56240,50311,24871,18012,30030,17850,29172,23119,87780,19734,56813,61,60150,80288,28770,97168,71706,87780,51348,1,39270,39270,50820,35856,66587,21700,13722,80330,68331,50055,80421,98670,82043,24946,68670,4290,81510,76380,92820,74334,8760,24882,62958,58095,91770,38130,56202,22515,72066,16346,30030,1,74613,88116,84630,46410,51540,20126,60230,72930,26777,56801,24955,1,41687,93890,69426,51412,12187,49636,60817,41917,1,19041,39895,1,32760,66158,52041,58275,97673,79170,17202,98851,1,1,85140,6571,1,42293,46410,55915,5674,3511,45539,63676,92820,1,27337,24793,22386,57120,42730,92820,58569,69481,7639,60905,73391,52369,3302,74782,1,24367,56628,53130,66321,42724,82818,2966,97170,92820,86110,74836,85470,97338,57969,74280,1,74802,28503,39780,85847,27720,95479,79170,83567,79170,7803,77585,16240,69426,65927,1,57058,71610,28657,1,67289,77672,22134,24180,35527,12081,26417,1,18018,85470,27263,16993,37431,22994,90090,31710,24211,62790,30841,81480,54026,65503,1,58319,54507,27800,1,58492,48510,65587,77722,75978,35361,81510,24269,89017,1,78577,93480,46519,17242,63140,11113,25918,84630,91770,98208,72345,94710,48070,47242,1,69899,46870,70890,60054,62700,82643,1115,46625,72240,53130,739,77934,1,99777,17414,79170,61404,1,89628,27767,11452,64392,4954,91910,1,95760,7758,90430,89544,40758,98815,81510,4294,29346,71743,95172,3527,91770,51511,1,56702,71610,1,51257,8460,60856,29569,3448,66990,70035,10529,1,1,79201,30030,15470,72996,61790,1,90090,2947,50272,72288,1,9067,8269,1,33150,98670,7791,79170,91770,91678,10635,14253,27541,62986,35297,52934,24947,27617,39424,56210,63609,1,55040,63490,94025,79802,24823,72534,94710,19110,71610,9570,3524,39270,17489,71549,67791,60060,79170,51870,1,51951,38128,71610,92394,1,27739,34468,27422,1,26670,14189,64070,67977,1,78540,67830,18818,60335,23370,1,62370,1,1,31734,47124,4761,89026,16187,9660,47909,1,26130,67905,65520,72323,33450,95940,1,71610,91356,63268,25913,78540,1,32970,1,1,1,10652,4201,87360,54138,72930,62790,82194,1,16901,87016,85470,18797,46410,19963,2927,18848,86254,46970,17340,79170,1,66990,1,16388,51263,9257,8865,1,1,55770,65642,88003,46410,69668,22911,28541,92820,97266,1,1,82016,91770,99330,91020,93811,44551,1,60610,1,98569,82110,33814,47860,10970,78540,20075,78540,24093,10562,1,1,1,1,24205,32568,23856,43313,98670,30961,59333,90090,95089,2440,75054,59334,50756,82057,92820,98670,24001,66330,46410,29573,30030,97185,90709,23847,89003,30030,99707,70070,52985,73081,91548,67697,63473,62725,92190,89586,39270,31185,87780,93989,79729,60060,41145,3632,82110,31494,6870,20100,62580,1,40245,15420,60970,52558,88920,1]
    k = 297235
    solution = Solution()
    result = solution.maximumScore(nums, k)
    assert result == 242253793

def test_ex6():
    nums = [98686,46410,46410,60060,1,43538,58711,86333,94710,1,1,18438,69257,84502,20849,16077,53749,1,71793,1,51870,35420,29209,60030,95138,13565,89262,22462,51870,75810,39112,85705,95748,99017,1,82085,4741,72930,2985,1,1,81770,95550,31463,25703,1,91650,1,52780,24355,27239,26418,1,67830,67830,85470,1642,74311,1,76561,65360,86268,1,1,6954,69833,1,79170,72930,26539,45251,52489,43890,72074,39270,1,68611,64713,1,9137,95514,39996,1,29984,76472,43890,87618,87906,13034,39270,4552,1,94604,43890,85470,99030,1,72930,32386,73417,58573,30030,72930,10495,5454,1,58727,73490,47824,43815,1,46431,39541,87780,78540,1,1,17383,62351,71478,24738,39537,36661,1,66192,45186,1,87948,55817,2893,1514,10607,87125,69103,81510,30070,84630,66629,58172,76072,98729,78474,51529,90481,43890,1,92454,44683,76380,1,22901,92710,48529,1,98670,94710,84882,67830,17627,66612,70589,54230,85470,54319,1,99330,64020,52304,33670,35657,2040,96787,94920,1,12369,95369,53382,12376,98419,1,81083,10790,38013,1,78780,94372,84630,35876,62790,36652,69833,68828,39475,9690,31571,55692,87990,35999,75937,68820,7570,27831,1,90440,79530,53010,14376,45621,57271,9430,17728,67830,82530,1,1,36036,48945,79423,39330,7692,8147,81033,54504,1,90744,70099,41910,12438,1,19830,87438,94710,80984,67830,29191,86658,78540,23767,72748,17090,73537,1,81510,71209,83273,21175,10435,60879,45071,60133,67830,53130,88199,57750,1,76245,71610,12541,91772,81846,81640,41299,34176,1,45572,99330,78540,76268,53947,1,53918,51510,1,67830,87195,1,18354,81510,32538,64474,82110,70154,22248,94710,52625,67960,1,17762,26863,81510,1,40551,1,1,89010,49985,80388,89165,1,41970,52298,1,60149,43459,45389,22785,71477,1,69959,6306,70978,1,70440,85008,86460,55259,18312,54252,43757,63910,10418,46770,87780,72076,1,68340,54261,42267,90090,92077,9619,33873,13080,71610,7051,66690,97117,90090,53130,65758,21331,78540,1,90090,46225,1,1,49532,76004,29924,49742,60493,59756,99453,1,49268,12119,98035,19214,81887,70742,86413,41910,86995,1,92114,76818,34171,9013,1,54740,1,1,65362,48397,91770,78546,97812,1,21388,88480,44400,86532,85121,36466,9491,50211,54696,88272,23806,24150,1,72608,74580,50622,5039,78540,22749,37555,75582,98670,41201,21120,61464,51870,18253,60210,17159,39652,1,71121,37570,1,54500,1,49560,16858,14656,40578,99397,24150,1,97097,88060,1,14639,61186,79170,90547,89460,88340,71610,98670,1,28421,9461,78540,56614,24790,87780,37506,25663,1,94710,63109,1,72930,25194,45896,6037,53382,53777,67694,58680,92683,95153,1091,84570,52051,38776,69057,60162,1,1,51510,14567,2207,55614,94620,1,21401,92820,1,61662,83232,57876,1,17160,55923,89292,71610,34104,1,38232,1,18075,82902,31980,78540,87780,60060,88245,96460,60103,2773,28961,88882,88994,1,39575,56370,37278,91770,1,45328,2070,86985,1,39270,92820,77546,92898,52390,39270,1,51870,1,30539,57150,47355,1,1,98668,66947,28107,91770,7764,41957,62634,46995,7659,1,4060,24024,92705,1633,53130,1,67740,49081,43633,51870,56980]
    k = 109455
    solution = Solution()
    result = solution.maximumScore(nums, k)
    assert result == 382751930
